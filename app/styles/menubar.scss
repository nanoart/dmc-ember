//
// Menubar
// --------------------------------------------------

@mixin box-shadow($arguments) {
  -webkit-box-shadow: $arguments;
  -moz-box-shadow: $arguments;
  box-shadow: $arguments;
}

// Transitions

@mixin transition($transition) {
  -webkit-transition: $transition;
       -o-transition: $transition;
          transition: $transition;
}

@mixin translate($x, $y) {
  -webkit-transform: translate($x, $y);
      -ms-transform: translate($x, $y); // IE9 only
       -o-transform: translate($x, $y);
          transform: translate($x, $y);
}

@mixin transition-vendor ($prop, $transition){
	-webkit-transition: '-webkit-#{$prop}' $transition;
	-moz-transition: '-moz-#{$prop}' $transition;
	-o-transition: '-o-#{$prop}' $transition;
	transition: '#{$prop}' $transition;
}

// Menubar
// -------------------------

#menubar {
	position: fixed;
	z-index: $zindex-menubar;
	left: 0; 
	top: $headerbar-height; 
	bottom: 0;
	width: $menubar-width-collapsed;
	color: $menubar-color;

	.menubar-first & {
		z-index: $zindex-menubar-first;
	}

	// Back panel
	&:before {
		content:'';
		position: absolute;
		left: 0; top: 0; bottom:0;
		width: 100%;
		background: $menubar-bg;
		@include box-shadow($z-height-1);
	}

	// Scroller
	.nano,
	.nano-content {
		&:focus {
			outline: none;
		}
	}
	.nano-pane {
		z-index: 2;
		width:5px;
		background: transparent;
		
		
	}
	.nano-slider {
		background: rgba($black, 0.2);
	}

	// Menu panels
	.menubar-scroll-panel {
		position: relative;
		padding-top: 16px;
		z-index: 2;
		min-height: 100%;
	}
	.menubar-foot-panel {
		position: absolute;
		left: 0;
		bottom: 0;
		width: 100%;
		border-top: 1px solid rgba($black, 0.07);
		padding: 16px;
	}

	// Show menu
	.menubar-visible & {
		width: $menubar-width;
	}
}
// Animate the menubar
#menubar.animate {
	@include transition(width $menubar-collapse-speed $menubar-collapse-ease);
}


// Menubar withoit a fixed header
// --------------------------------------------------
// we need to remove this one, as the class is not set on body in Ember project
/*
body:not(.header-fixed),
.menubar-first {
	#menubar {
		top: 0;
	}
}
*/

// Fixed panel
// --------------------------------------------------

.menubar-fixed-panel {
	position: relative;
	display: inline-table;
	width: 100%;
	height: $headerbar-height;
	z-index: 10;
	border-bottom: 1px solid rgba($black, 0.07);

	> div {
		display: table-cell;
		vertical-align: middle;
		padding: 0 0 0 $menubar-gap;
		
		&:first-child {
			max-width: 26px;
		}
	}

	a {
		text-decoration: none;
	}

	img {
		max-height: ($headerbar-height - ($gutter-size * 4));
	}

	.expanded {
		display: none;
		.menubar-visible &,
		.menubar-pin & {
			display: table-cell;
		}
	}
}

// Hide .menubar-fixed-panel when the menubar is not first
body:not(.menubar-first) {
	.menubar-fixed-panel {
		display: none;
	}
}


// Inversed menubar
// -------------------------

#menubar.menubar-inverse {
	color: $menubar-inverse-color;

	&:before {
		background: $menubar-inverse-bg;
	}
	
	.nano-slider {
		background: rgba($white, 0.4);
	}
}


// Utils
// --------------------------------------------------

.hidden-folded {
	display: none;
}
.menubar-visible {
	.hidden-folded {
		display: inherit;
	}
}


// Responsive classes
// --------------------------------------------------

// Medium Devices
// -------------------------

@media (min-width: $screen-lg-min) {
	.menubar-pin {
		#menubar {
			width: $menubar-width;
		}
		.brand-holder {
			display: table-cell;
		}
		.hidden-folded {
			display: inherit;
		}
	}
}

// From Medium Devices
// -------------------------

@media (max-width: $screen-xs-max) {
	#menubar {
		width: $menubar-width;
		z-index: $zindex-menubar-mobile;
		@include translate((-$menubar-width - 10), 0);
		@include transition-vendor(transform, $menubar-collapse-speed ease-in);
	}

	.menubar-visible {
		#menubar {
			@include translate(0, 0);
			@include transition-vendor(transform, $menubar-collapse-speed $menubar-collapse-ease);
		}
	}
}